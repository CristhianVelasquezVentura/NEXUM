<div class="flex flex-col gap-4 mt-8">
  <div class="rounded-2xl flex items-center justify-center border-dashed border-2 border-st-20 px-12 py-9 w-full">
    <ng-template [ngIf]="!cameraStarted || part !== 'front'" [ngIfElse]="camera">
      <ng-template [ngIf]="imageFrontSrc === ''" [ngIfElse]="front">
        <svg width="230" height="124" viewBox="0 0 230 124" class="text-c" (click)="startCamera('front')"
             xmlns="http://www.w3.org/2000/svg">
          <path
            d="M150 4C150 1.79086 151.791 0 154 0H200C202.209 0 204 1.79086 204 4V12C204 14.2091 202.209 16 200 16H154C151.791 16 150 14.2091 150 12V4Z"/>
          <path
            d="M104 76C104 73.7909 105.791 72 108 72H154C156.209 72 158 73.7909 158 76V84C158 86.2091 156.209 88 154 88H108C105.791 88 104 86.2091 104 84V76Z"/>
          <path
            d="M105 40C105 37.7909 106.791 36 109 36H136C138.209 36 140 37.7909 140 40V48C140 50.2091 138.209 52 136 52H109C106.791 52 105 50.2091 105 48V40Z"/>
          <path
            d="M150 40C150 37.7909 151.791 36 154 36H181C183.209 36 185 37.7909 185 40V48C185 50.2091 183.209 52 181 52H154C151.791 52 150 50.2091 150 48V40Z"/>
          <path
            d="M168 76C168 73.7909 169.791 72 172 72H199C201.209 72 203 73.7909 203 76V84C203 86.2091 201.209 88 199 88H172C169.791 88 168 86.2091 168 84V76Z"/>
          <path
            d="M195 40C195 37.7909 196.791 36 199 36H226C228.209 36 230 37.7909 230 40V48C230 50.2091 228.209 52 226 52H199C196.791 52 195 50.2091 195 48V40Z"/>
          <path
            d="M105 4C105 1.79086 106.791 0 109 0H136C138.209 0 140 1.79086 140 4V12C140 14.2091 138.209 16 136 16H109C106.791 16 105 14.2091 105 12V4Z"/>
          <path
            d="M105 112C105 109.791 106.791 108 109 108H207C209.209 108 211 109.791 211 112V120C211 122.209 209.209 124 207 124H109C106.791 124 105 122.209 105 120V112Z"/>
          <path
            d="M32 22C20.9543 22 12 30.9543 12 42C12 53.0457 20.9543 62 32 62C43.0457 62 52 53.0457 52 42C52 30.9543 43.0457 22 32 22ZM8.49975 69.9999C3.80651 69.9999 4.1008e-05 73.8025 5.48363e-06 78.4978L0 80C0 87.5111 3.88335 93.1338 9.84033 96.7604C15.6982 100.327 23.5721 102 32 102C40.4279 102 48.3018 100.327 54.1597 96.7604C60.1166 93.1338 64 87.5111 64 80L64 78.4974C63.9999 73.8023 60.1935 69.9999 55.5004 69.9999H8.49975Z"/>
        </svg>
      </ng-template>
      <ng-template #front>
        <img *ngIf="imageFrontSrc" [src]="imageFrontSrc" alt="Captured front" class="rounded-md"/>
      </ng-template>
    </ng-template>
  </div>
  <div class="rounded-2xl flex items-center justify-center border-dashed border-2 border-st-20 px-12 py-9 w-full">
    <ng-template [ngIf]="!cameraStarted || part !== 'back'" [ngIfElse]="camera">
      <ng-template [ngIf]="imageBackSrc === ''" [ngIfElse]="back">
        <svg class='text-c' width="280" height="149" (click)="startCamera('back')"
             viewBox="0 0 280 149"
             fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M173 106C173 103.791 174.791 102 177 102H223C225.209 102 227 103.791 227 106V114C227 116.209 225.209 118 223 118H177C174.791 118 173 116.209 173 114V106Z"/>
          <path
            d="M109 106C109 103.791 110.791 102 113 102H159C161.209 102 163 103.791 163 106V114C163 116.209 161.209 118 159 118H113C110.791 118 109 116.209 109 114V106Z"/>
          <path
            d="M0 106C0 103.791 1.79086 102 4 102H50C52.2091 102 54 103.791 54 106V114C54 116.209 52.2091 118 50 118H4C1.79086 118 0 116.209 0 114V106Z"/>
          <path
            d="M117 137C117 134.791 118.791 133 121 133H148C150.209 133 152 134.791 152 137V145C152 147.209 150.209 149 148 149H121C118.791 149 117 147.209 117 145V137Z"/>
          <path
            d="M162 137C162 134.791 163.791 133 166 133H193C195.209 133 197 134.791 197 137V145C197 147.209 195.209 149 193 149H166C163.791 149 162 147.209 162 145V137Z"/>
          <path
            d="M64 106C64 103.791 65.7909 102 68 102H95C97.2091 102 99 103.791 99 106V114C99 116.209 97.2091 118 95 118H68C65.7909 118 64 116.209 64 114V106Z"/>
          <path
            d="M207 137C207 134.791 208.791 133 211 133H276C278.209 133 280 134.791 280 137V145C280 147.209 278.209 149 276 149H211C208.791 149 207 147.209 207 145V137Z"/>
          <path
            d="M237 106C237 103.791 238.791 102 241 102H276C278.209 102 280 103.791 280 106V114C280 116.209 278.209 118 276 118H241C238.791 118 237 116.209 237 114V106Z"/>
          <path
            d="M1 137C1 134.791 2.79086 133 5 133H103C105.209 133 107 134.791 107 137V145C107 147.209 105.209 149 103 149H5C2.79086 149 1 147.209 1 145V137Z"/>
          <path
            d="M226.872 7.85268C230.353 5.84457 235.268 4.82551 240.411 5.03136C245.543 5.23676 250.646 6.65218 254.497 9.22831C255.53 9.91915 256.928 9.64184 257.618 8.60892C258.309 7.57601 258.032 6.17864 256.999 5.48781C252.31 2.35133 246.353 0.76558 240.591 0.53496C234.84 0.304795 229.026 1.41488 224.623 3.95481C223.547 4.57577 223.178 5.95172 223.799 7.02809C224.419 8.10446 225.795 8.47364 226.872 7.85268ZM242.562 9.19169C241.331 9.01891 240.193 9.87641 240.021 11.107C239.848 12.3376 240.705 13.4752 241.936 13.648C250.471 14.8464 255.541 19.6924 258.592 24.666C261.68 29.6987 262.644 34.7931 262.849 36.1015C263.041 37.3292 264.192 38.1686 265.42 37.9764C266.648 37.7841 267.487 36.6331 267.295 35.4054C267.047 33.8261 265.959 28.0678 262.428 22.3127C258.861 16.4984 252.745 10.6215 242.562 9.19169ZM232.244 24.9467C226.755 29.3672 223.513 38.9325 229.469 51.2727C230.009 52.3918 229.54 53.7369 228.421 54.277C227.301 54.8171 225.956 54.3478 225.416 53.2287C218.746 39.4086 221.977 27.4376 229.422 21.4419C233.106 18.4755 237.765 17.054 242.487 17.7309C247.228 18.4106 251.819 21.1731 255.433 26.1814C256.16 27.189 255.933 28.5954 254.925 29.3225C253.918 30.0497 252.511 29.8223 251.784 28.8146C248.788 24.6629 245.226 22.6696 241.848 22.1854C238.451 21.6984 235.028 22.705 232.244 24.9467ZM239.216 54.26C235.507 46.6346 234.432 40.2619 235.133 36.1039C235.48 34.0471 236.23 32.6939 237.125 31.9008C237.979 31.1438 239.184 30.7009 240.913 30.8648C243.24 31.0855 244.272 31.8327 244.898 32.6665C245.651 33.6673 246.074 35.104 246.557 37.2739C246.616 37.5388 246.675 37.8113 246.736 38.0905C247.618 42.1545 248.809 47.6373 254.383 51.8805C255.371 52.6331 256.783 52.4417 257.536 51.453C258.289 50.4642 258.097 49.0525 257.108 48.2999C252.885 45.0849 252.009 41.1043 251.102 36.9866L251.102 36.9833C251.051 36.7546 251.001 36.5247 250.949 36.2952C250.488 34.2234 249.913 31.8473 248.495 29.9622C246.952 27.91 244.642 26.6982 241.337 26.3849C238.557 26.1213 236.061 26.8306 234.14 28.5328C232.26 30.1988 231.159 32.6118 230.696 35.3553C229.778 40.7978 231.246 48.1623 235.17 56.2284C235.713 57.3459 237.06 57.8111 238.177 57.2676C239.295 56.724 239.76 55.3775 239.216 54.26ZM221.412 9.43858C222.251 10.3549 222.189 11.7782 221.273 12.6175C218.525 15.1347 216.816 17.9276 216.286 18.861C215.674 19.942 214.3 20.3216 213.219 19.7088C212.138 19.096 211.759 17.7229 212.372 16.6418C213.018 15.5023 214.999 12.2616 218.233 9.29915C219.15 8.45982 220.573 8.52224 221.412 9.43858ZM258.711 35.7083C258.481 34.4872 257.305 33.6837 256.084 33.9138C254.863 34.1439 254.059 35.3204 254.289 36.5415C255.129 40.9966 257.188 44.7199 260.943 47.0391C262 47.6922 263.387 47.3645 264.04 46.3073C264.693 45.2501 264.365 43.8637 263.308 43.2106C260.901 41.7239 259.383 39.2725 258.711 35.7083ZM240.215 35.7515C241.453 35.6476 242.541 36.5672 242.645 37.8055C243.324 45.8925 247.359 51.0014 248.464 52.2586C249.284 53.192 249.193 54.6137 248.259 55.434C247.326 56.2543 245.904 56.1626 245.084 55.2292C243.637 53.583 238.951 47.5951 238.161 38.1817C238.057 36.9434 238.977 35.8554 240.215 35.7515ZM234.141 14.3506C235.282 13.8562 235.805 12.5312 235.31 11.3911C234.816 10.2511 233.491 9.72774 232.351 10.2222C222.053 14.6884 217.337 22.2949 215.299 29.1437C213.285 35.9111 213.877 41.9342 214.09 43.5514C214.253 44.7833 215.384 45.65 216.616 45.4873C217.848 45.3245 218.714 44.1938 218.552 42.9619C218.377 41.6421 217.855 36.3337 219.612 30.4271C221.345 24.6018 225.285 18.1917 234.141 14.3506Z"/>
        </svg>
      </ng-template>
      <ng-template #back>
        <img *ngIf="imageBackSrc" [src]="imageBackSrc" alt="Captured back" class="rounded-md"/>
      </ng-template>
    </ng-template>
  </div>
</div>

<ng-template #camera>
  <div class="flex flex-col justify-center items-center gap-4">
    <video #video height="480" width="640" id="camera" autoplay class="rounded-md"></video>
    <button (click)="captureImage()"
            class='w-40 px-4 text-c rounded-md border-2 flex items-center gap-2 flex-1 border-solid border-c t-body-b'>
      <svg class="text-c" width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M8.34247 7C9.88875 5.74851 11.8569 5 14 5C18.9706 5 23 9.02944 23 14C23 18.9706 18.9706 23 14 23C9.02944 23 5 18.9706 5 14C5 13.6955 5.01508 13.3949 5.04448 13.0988C5.09905 12.5492 4.69776 12.0595 4.14818 12.0049C3.59859 11.9503 3.10883 12.3516 3.05427 12.9012C3.01836 13.2629 3 13.6295 3 14C3 20.0751 7.92487 25 14 25C20.0751 25 25 20.0751 25 14C25 7.92487 20.0751 3 14 3C11.3405 3 8.90133 3.94442 7 5.51448V4C7 3.44772 6.55228 3 6 3C5.44772 3 5 3.44772 5 4V7.98746C4.99985 8.00129 4.99999 8.01511 5.00041 8.02892C5.01571 8.56783 5.45739 9 6 9H10C10.5523 9 11 8.55228 11 8C11 7.44772 10.5523 7 10 7H8.34247Z"/>
      </svg>
      <span>Capturar Imagen</span>
    </button>
  </div>
</ng-template>

<div class="w-full p-6 flex flex-col gap-4 rounded-lg border-2 border-st-20 mt-8">
  <div class="text-c t-subtitle">
    <span>Sugerencias:</span>
  </div>

  <div class="flex gap-2">
    <div>
      <svg class="text-c" width="24" height="24" viewBox="0 0 24 24" fill="none"
           xmlns="http://www.w3.org/2000/svg">
        <path
          d="M8.5 16.5858L4.70711 12.7929C4.31658 12.4024 3.68342 12.4024 3.29289 12.7929C2.90237 13.1834 2.90237 13.8166 3.29289 14.2071L7.79289 18.7071C8.18342 19.0976 8.81658 19.0976 9.20711 18.7071L20.2071 7.70711C20.5976 7.31658 20.5976 6.68342 20.2071 6.29289C19.8166 5.90237 19.1834 5.90237 18.7929 6.29289L8.5 16.5858Z"/>
      </svg>
    </div>
    <div>
      <span class="t-body text-st-80">Colocar una hoja blanca debajo del documento de identificación.</span>
    </div>
  </div>

  <div class="flex gap-2">
    <div>
      <svg class="text-c" width="24" height="24" viewBox="0 0 24 24" fill="none"
           xmlns="http://www.w3.org/2000/svg">
        <path
          d="M8.5 16.5858L4.70711 12.7929C4.31658 12.4024 3.68342 12.4024 3.29289 12.7929C2.90237 13.1834 2.90237 13.8166 3.29289 14.2071L7.79289 18.7071C8.18342 19.0976 8.81658 19.0976 9.20711 18.7071L20.2071 7.70711C20.5976 7.31658 20.5976 6.68342 20.2071 6.29289C19.8166 5.90237 19.1834 5.90237 18.7929 6.29289L8.5 16.5858Z"/>
      </svg>
    </div>
    <div>
      <span class="t-body text-st-80">No subir una fotografía, documento escaneado o captura de pantalla.</span>
    </div>
  </div>

  <div class="flex gap-2">
    <div>
      <svg class="text-c" width="24" height="24" viewBox="0 0 24 24" fill="none"
           xmlns="http://www.w3.org/2000/svg">
        <path
          d="M8.5 16.5858L4.70711 12.7929C4.31658 12.4024 3.68342 12.4024 3.29289 12.7929C2.90237 13.1834 2.90237 13.8166 3.29289 14.2071L7.79289 18.7071C8.18342 19.0976 8.81658 19.0976 9.20711 18.7071L20.2071 7.70711C20.5976 7.31658 20.5976 6.68342 20.2071 6.29289C19.8166 5.90237 19.1834 5.90237 18.7929 6.29289L8.5 16.5858Z"/>
      </svg>
    </div>
    <div>
      <span class="t-body text-st-80">Mantenga plano y con espacio al rededor de los bordes.</span>
    </div>
  </div>

  <div class="flex gap-2">
    <div>
      <svg class="text-c" width="24" height="24" viewBox="0 0 24 24" fill="none"
           xmlns="http://www.w3.org/2000/svg">
        <path
          d="M8.5 16.5858L4.70711 12.7929C4.31658 12.4024 3.68342 12.4024 3.29289 12.7929C2.90237 13.1834 2.90237 13.8166 3.29289 14.2071L7.79289 18.7071C8.18342 19.0976 8.81658 19.0976 9.20711 18.7071L20.2071 7.70711C20.5976 7.31658 20.5976 6.68342 20.2071 6.29289C19.8166 5.90237 19.1834 5.90237 18.7929 6.29289L8.5 16.5858Z"/>
      </svg>
    </div>
    <div>
          <span
            class="t-body text-st-80">Asegurarse que está enfocado y sin incidencia del frash u otros detalles.</span>
    </div>
  </div>
</div>

<div class="bottom-2 left-0 flex w-full justify-center items-center py-5 px-8">
  <div class="flex items-center rounded-3xl w-full h-14 border border-st-20 bg-white"
       style="box-shadow: 0 8px 10px -6px rgba(0, 0, 0, 0.10), 0 20px 25px -5px rgba(0, 0, 0, 0.10);">
    <div class="flex items-center justify-center h-full w-1/2 text-center" (click)="backStep()">
      <span class="text-st-60 t-body flex-1 h-full flex items-center justify-center">Anterior</span>
    </div>
    <div class="flex items-center justify-center w-1/2 text-center h-full" (click)="finishStep()">
      <span class="text-c t-body-b flex-1 h-full flex items-center justify-center">Siguiente</span>
    </div>
  </div>
</div>
<app-toast></app-toast>
